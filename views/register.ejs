<!-- 
    The register.ejs file contains a form that a 
    new user can fill out to create their account
    for the web application. Required fields for 
    creating the account include the user's first
    name, last name, email, and password. A login
    link is provided in the case that the user 
    already has an account so that the user can
    login. The user also has the option to register
    an account using Google authentication if they
    have a Google account. Partials are included
    in this file to help structure the page. A 
    footer partial file is included as well as
    a login-register header partial file.
    ...
    Project: Aptiv Web Application
    Authors: Andrew Krause, Riley Radle, 
    Anthony Musbach, Zach Gephart
    Class: Software Design IV (CS 341)
    Group: #2
    Date: 12/15/2021
    ...
-->

<%- include('./partials/login-register_header.ejs') %>

    <div class="login-register-ejs">
        <div class="container mt-5 mb-5">
            <div class="row">
                <div class="sheet col-lg-6 col-md-8 col-sm-10 col-xs-12 mx-auto">
                    <!-- Header for the login form -->
                    <header>
                        <a class="navbar-brand" href="/home">Team Aptiv</a>
                        <p>Connect | Volunteer | Donate.</p>
                    </header>

                    <!-- 
                        Include EJS to display any error messages to the user if
                        they attempt to register with a username that already exists.
                    -->
                    <% if(alreadyCreated.length > 0) { %>
                        <div class="card-body elementToFadeInAndOut message-format">
                            <h1 class="incorrect-input"><%= alreadyCreated %></h1>
                        </div>
                    <% } %>

                    <main class="p-3">
                        <!-- Makes a POST request to the /register route -->
                        <form class="form-horizontal" action="/register" method="POST">
                            <div class="form-group">
                                <label class="login-register-font control-label" for="fname">First Name</label>
                                <input type="fname" class="login-register-font form-control" name="fname" required>
                            </div>
                            <div class="form-group">
                                <label class="login-register-font control-label" for="lname">Last Name</label>
                                <input type="lname" class="login-register-font form-control" name="lname" required>
                            </div>
                            <div class="form-group">
                                <label class="login-register-font control-label" for="email">Email</label>
                                <input type="email" class="login-register-font form-control" name="username" required>
                            </div>
                            <div class="form-group">
                                <label class="login-register-font control-label" for="password">Password</label>
                                <input type="password" class="login-register-font form-control" name="password" required>
                            </div>
                            <button type="submit" class="mt-3 btn btn-lg btn-outline-light d-flex mx-auto">Register</button>
                        </form>


                        <!-- Authentication sign up with Google -->
                        <div class="text-center">
                            <h5 class="m-3">or<h5>

                            <a class="google-link" href="/auth/google" role="button">
                                <i class="fab fa-google"></i>
                                Sign up with Google
                            </a>
                            <!-- Add a link to login if the user already has an account -->
                            <h5>Already have an account? <a class="reference-link" href="/login">Login Here</a></h5>
                        </div>
                    </main>
                </div>
            </div>
    
            <!-- Back button -->
            <!-- <div class="container mt-4">
                <form action="/back" method="POST">
                    <div>
                        <button type="submit" class="btn btn-lg btn-outline-dark"><i class="fas fa-arrow-left"></i> Back</button>
                    </div>
                </form>
            </div> -->
            
        </div>
    </div>

   

<%- include('./partials/footer.ejs') %>